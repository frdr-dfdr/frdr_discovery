<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Advanced Search | Recherche Avanc√©e </title>
    <!--stylesheets-->
    <!-- bootstrap & fontawesome -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- OC Styles -->
    <link href="/discover/stylesheets/css/adv-search.css" rel="stylesheet" type="text/css">
    <!--js-->
    <script type="text/javascript" src="/discover/js/config-vars.js"></script>
    <!--<script src="https://code.jquery.com/jquery-3.1.0.min.js"-->
    <!--integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>-->
    <script type="text/javascript" src="/discover/js/build/vendor/requirejs/require.js"></script>
    <script>
        try {
            var requireConfigObj = require(['/discover/js/build/require/require-config.js']);
            require([requireConfigObj], function () {
                require(["/discover/js/build/require/adv-search.js"])
            });
        } catch (err) {
            console.log(err);
        }
    </script>
</head>
<body ng-controller="advSearchController">
<base href="/"/>

<search-header></search-header>

<div class="dl expand" role="main">

    <div class="dl-masthead expand row-fluid">
        <div class="dl-header expand dl-thm-solid-base">
            <h3><span translate>ADVSEARCH_HEADER</span></h3>
        </div>
    </div>

    <div class="expand dl-content dl-advs-wrapper"> <!-- Main Content Area Start -->
        <!-- start main DL Content -->

        <search-builder></search-builder>

            <!--
            <article> 
            <h3>The Next Level</h3>
            <section class="dl-collapse-section row-fluid dl-spaced-sm" data-advs-section="query_syntax" ng-cloak>
                <div class="dl-uparrow-sm"></div>
                <h4 class="dl-collapse-title" role="button" tabindex="0" class="dl-collapse-title" ng-init="isOpen=true" ng-click="isOpen=!isOpen; load = true"><i class="fa fa-angle-down" ng-hide="!isOpen"></i><i class="fa fa-angle-right" ng-hide="isOpen"></i> Learn the Query Syntax</h4>

                <div class="dl-ani-hide dl-collapse-content" ng-hide="!isOpen">
                    <p>
                        The Open Collections uses the <a target="_blank" href="http://lucene.apache.org/core/2_9_4/queryparsersyntax.html">Apache Lucene Query Parser Syntax</a> for advanced searches. <strong>Your current query looks like this:</strong>
                    </p>
                    <textarea clickselect readonly ga-copy-event="advanced_search,copy_query_string" class="dl-advs-output">{[{ displayString }]}</textarea>
                    <p>
                        You can use this syntax in<strong> any search bar in the Open Collections site</strong> to quickly execute complex queries without relying on the advanced search tool.
                    </p>
                    <p>
                        <strong>Useful tricks</strong> include using the boolean operators AND, NOT, and OR (all caps) between search terms to dictate how the terms are matched, and limiting your query to a specific metadata field by prefixing it with the field name followed by a colon character. Phrases wrapped in quotation marks will be matched exactly, and you may group queries using parentheses.
                    </p>
                    <p>
                        <strong>For example</strong>, <span class="dl-monospace">(title: "North Pole" AND accurate) AND (description: map OR "engraved print" NOT 'south')</span> will search for items with 'North Pole' and 'accurate' in the title and either 'map' or 'engraved print', but not 'south' in the subject field. You can <a target="_blank" href="http://lucene.apache.org/core/2_9_4/queryparsersyntax.html">learn more advanced search techniques</a> from the Apache Lucene Query Syntax manual.
                    </p>
                    <p>
                        <strong>Note</strong> that Open Collections' <strong>'Limits' and 'Filters' are applied separately</strong> from the query string, and searches from within a particular collection or item will remain scoped to that collection or item.
                    </p>
                    <p>
                        The prefixes in the field names you see here represent the defined vocabulary to which the field belongs. To learn more about the <strong>Open Collections metadata model</strong>, check out our <a href="/docs/" link-out>API Documentation</a>.
                    </p>
                </div>
            </section >
            -->

            <!-- API Builder tool may not be applicable for other applications. -->

            <!--<section class="dl-collapse-section row-fluid dl-spaced-sm" data-advs-section="api_call" ng-cloak>-->
                <!--<h4 class="dl-collapse-title" role="button" tabindex="0" class="dl-collapse-title" ng-click="isOpen=!isOpen; loadApi()"><i class="fa fa-angle-down" ng-hide="!isOpen"></i><i class="fa fa-angle-right" ng-hide="isOpen"></i> Make an API Call Based on this Query</h4>-->
                <!--<div class="dl-ani-hide dl-collapse-content" ng-if="apiLoaded" ng-hide="!isOpen">-->

                    <!--<p><strong>You can use the following query object to return data from the Open Collections API.</strong> To query the Open Collections API with your advanced search query, select the fields you would like to return, and use the following query object to request your data. </p>-->
                    <!--<p><strong>Visit the <a link-out href="/research">Open Collections Research API page</a> to request an API key and to learn more about how you can use the API.</strong></p>-->
                    <!--<div class="dl-advs-embedopts">-->
                        <!--<button class="dl-sbtn"-->
                                <!--ns-popover-->
                                <!--ns-popover-template="{[{apiFieldsTemplate}]}"-->
                                <!--ns-popover-trigger="click"-->
                                <!--ns-popover-timeout="0.3"-->
                                <!--ns-popover-placement="bottom|left"-->
                                <!--ng-popover-theme="ns-popover-dropdown"-->
                        <!--&gt;Select Fields to Return</button>-->
                    <!--</div>-->
                    <!--<textarea clickselect readonly class="dl-advs-output multiline" ga-copy-event="advanced_search,copy_api_query">{[{apiObj}]}</textarea>-->

                    <!--<p>Then enter your <a link-out href="/research">API Key</a>, and send the object above in an HTTP Post request to the following url:</p>-->

                    <!--<div class="dl-advs-embedopts">-->
                        <!--<input type="text" ng-model="apiKey" placeholder="Enter your API key here" class="span3">-->
                    <!--</div>-->
                    <!--<textarea clickselect readonly class="dl-advs-output" ga-copy-event="advanced_search,copy_api_key">{[{apiUrl}]}{[{apiKey}]}</textarea>-->
                    <!--{#   <p>The Open Collections API is built on <a href="https://www.elastic.co/products/elasticsearch">ElasticSearch</a>, and can be used far more powerfully than the queries generated here. <strong><a href="">Learn more about using the Open Collections API</a></strong> to power data-driven research and custom applications. #}-->
                <!--</div>-->
            <!--</section>-->

            <!-- RSS Builder
            <section class="dl-collapse-section row-fluid dl-spaced-sm" data-advs-section="rss_feed" ng-init="isOpen=false" ng-cloak>
                <h4 class="dl-collapse-title" role="button" tabindex="0" class="dl-collapse-title" ng-click="isOpen=!isOpen; loadWidget();"><i class="fa fa-angle-down" ng-hide="!isOpen"></i><i class="fa fa-angle-right" ng-hide="isOpen"></i> Make an RSS Feed Scoped to this Query</h4>
                <div class="dl-ani-hide dl-collapse-content" ng-if="widgetLoaded" ng-hide="!isOpen">
                    <label for="rssSort">RSS Feed Sorting:
                        <select id="rssSort" ng-model='rssSortStore' ng-change="changeRSSSort()">
                            <option value="0" label="Sort by relevance">Sort by relevance</option>
                            <option value="1" label="Sort by title a-z">Sort by title a-z</option>
                            <option value="2" label="Sort by title z-a">Sort by title z-a</option>
                            <option value="3" label="Sort by author a-z">Sort by author a-z</option>
                            <option value="4" label="Sort by author z-a">Sort by author z-a</option>
                            <option value="8" label="Sort by date created old-new" selected="selected">Sort by date created old-new</option>
                            <option value="9" label="Sort by date created new-old" selected="selected">Sort by date created new-old</option>
                            <option value="5" label="Sort oldest to newest">Sort oldest to newest</option>
                            <option value="6" label="Sort newest to oldest">Sort newest to oldest</option>
                            <option value="7" label="Sort by latest added" selected="selected">Sort by latest added</option>
                            <option value="10" label="Sort by latest available (useful for cIRcle)" selected="selected">Sort by latest available (useful for cIRcle)</option>
                        </select>
                    </label>
                    <p>Customize your RSS feed with the advanced search builder, then copy and paste the link below into the RSS reader of your choice.</p>
                    <a href="{{base_url}}/rss/search/rss.xml{[{ rss.queryString }]}" link-out style="word-break:break-all;">{{base_url}}/rss/search/rss.xml{[{ rss.queryString }]}</a>
                </div>
            </section>

            <section class="dl-collapse-section row-fluid dl-spaced-sm" data-advs-section="search_widget" ng-init="isOpen=false" ng-cloak>
                <h4 class="dl-collapse-title" role="button" tabindex="0" class="dl-collapse-title" ng-click="isOpen=!isOpen; loadWidget();"><i class="fa fa-angle-down" ng-hide="!isOpen"></i><i class="fa fa-angle-right" ng-hide="isOpen"></i> Make an Embeddable Search Widget Scoped to this Query</h4>
                <div class="dl-ani-hide dl-collapse-content" ng-if="widgetLoaded" ng-hide="!isOpen">
                    <p>Customize your widget with the following options, then copy and paste the code below into the HTML of your page to embed a scoped search widget in your website.</p>
                    <div class="dl-advs-embedopts">
                        <div class="row-fluid">
                            <label for="inline"><input id="inline" type="checkbox" ng-model="embed.inline" ng-change="updateWidgetData();">  Return results in the widget. If not selected, searches from the widget will redirect to the Open Collections Search Results page.</label>
                        </div>
                        <div class="row-fluid">
                            <label for="keepQuery"><input id="keepQuery" type="checkbox" ng-model="embed.keepQuery" ng-change="loadWidget();">  Use my query as a starting point. This will pre-fill the search widget with the advanced search query entered above. Users will still be able to enter their own queries.</label>
                        </div>
                        <div class="row-fluid">
                            <label for="placeholder" >  Search prompt (use this to describe any limits you've added to your search):</label>
                            <input type="text" id="placeholder" ng-model="embed.placeholder">
                        </div>
                        <div class="row-fluid">
                            <label class="row-fluid" >Widget colour (darker colours recommended): </label>
                            <input type="text" colorpicker id="color" ng-model="embed.color" class="col-md-2">
                            <div colorbox color="embed.color" class="dl-colorbox dl-thm-plain-base selected"></div>
                            <div colorbox color="embed.color" class="dl-colorbox dl-thm-solid-chung"></div>
                            <div colorbox color="embed.color" class="dl-colorbox dl-thm-solid-bcbib"></div>
                            <div colorbox color="embed.color" class="dl-colorbox dl-thm-solid-bcnewspapers"></div>
                            <div colorbox color="embed.color" class="dl-colorbox dl-thm-solid-birs"></div>
                            <div colorbox color="embed.color" class="dl-colorbox dl-thm-solid-ccs"></div>
                            <div colorbox color="embed.color" class="dl-colorbox dl-thm-solid-langmann"></div>
                            <div colorbox color="embed.color" class="dl-colorbox dl-thm-solid-ubcpublications"></div>
                        </div>



                    </div>
                    <textarea clickselect readonly class="dl-advs-output multiline" ga-copy-event="advanced_search,copy_embed_widget">
&lt;article id="ubcOpenCollectionsSearchWidget" style="border-color:{[{ embed.color }]}"&gt;
    &lt;h2&gt;UBC Library&lt;/h2&gt;
    &lt;h3&gt;Open Collections&lt;/h3&gt;
    &lt;div id="ocw-attach-search"  style="width: 100%"&gt;

        &lt;script id="dl-search"
            src="{[{embed.src}]}"
            data-inline="{[{ embed.inline }]}"
            data-placeholder="{[{ embed.placeholder }]}"
            data-color="{[{ embed.color }]}"
            data-keep-query="{[{ embed.keepQuery }]}"
            data-query-string='{[{ embed.queryString }]}'
            data-filter-string='{[{ embed.filterString }]}'
            data-query-obj='{[{ embed.queryObj }]}'
        &gt;
        &lt;/script&gt;
    &lt;/div&gt;
&lt;/article&gt;
                    </textarea>
                </div>
            </section>
        </article>
		-->

    </div>

    <p>&nbsp;</p>

    <search-footer></search-footer>

</body>
</html>
